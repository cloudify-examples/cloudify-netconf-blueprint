# cloudify-netconf-blueprint

Examples of usage netconf plugin.

For additional information about format of netconf actions please look plugin documentation https://github.com/cloudify-cosmo/cloudify-netconf-plugin.

#Prerequisites
All blueprints have such inputs:
* netconf_ip: ip for device/vm
* netconf_user: user that have rights to change/access to device/vm
* netconf_password: password for such user, can be empty in such case will be used netconf_key_content
* netconf_key_content: private part of key for case if want to use key-based authentication.

And before any operation you need fully configured device with enabled netconf protocol.

Blueprints tested with cloudify 3.3.1.

#Blueprints:
##cisco-ios-asr-blueprint.yaml
Blueprint tried to get all available settings from device and store such setting to outputs.

Implemented only install workflow that returned settings as outputs.

##turing-blueprint.yaml
Example for use netconf plugin with turring machine example from https://github.com/CESNET/netopeer.

Showed several commands - does not changes anything critical, only toy project for show netconf protocol implementation.

For regerate types/turing-yttc-generated.yaml use yttc compiler(https://github.com/cloudify-cosmo/yttc) with command line:
* wget https://raw.githubusercontent.com/mbj4668/pyang/master/doc/tutorial/examples/turing-machine.yang
* yttc turing-machine.yang > types/turing-yttc-generated.yaml

##vpn-vyatta-blueprint.yaml
Example for configure vpn with Vyatta router.

Blueprint will change configuration on install workflow and restore original configuration on uninstall .

Vyatta example is valid only for Brocade Vyatta Network OS 4.1 R2 and before run vyatta blueprint run as root on router:
* cd /usr/share/doc/openvpn/examples/sample-keys/
* bash gen-sample-keys.sh

Script name can be different and related to Brocade vRouter version.

All files in types directory is generated by yttc tool - dont edit it manually, just use yttc for regenerate.